<div class="container mt-5">
  <div class="row">
    <!-- Create Task -->
    <div class="col-md-5">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">Create Task</h5>
        </div>
        <div class="card-body">
          <form (ngSubmit)="onCreateTask()">
            <div class="mb-3">
              <label class="form-label">Title</label>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="taskObj.title"
                name="title"
                required
              />
            </div>

            <div class="mb-3">
              <label class="form-label">Description</label>
              <textarea
                class="form-control"
                rows="3"
                [(ngModel)]="taskObj.description"
                name="description"
              ></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label">Priority</label>
              <select
                class="form-select"
                [(ngModel)]="taskObj.priority"
                name="priority"
                required
              >
                <option value="">Select Priority</option>
                <option>LOW</option>
                <option>MEDIUM</option>
                <option>HIGH</option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label">Due Date</label>
              <input
                type="date"
                class="form-control"
                [(ngModel)]="taskObj.dueDate"
                name="dueDate"
              />
            </div>

            <div class="mb-3">
              <label class="form-label">Status</label>
              <select
                class="form-select"
                [(ngModel)]="taskObj.status"
                name="status"
              >
                <option value="">Select Status</option>
                <option>NOT_STARTED</option>
                <option>IN_PROGRESS</option>
                <option>DONE</option>
              </select>
            </div>

            <button class="btn btn-success w-100" type="submit">
              Add Task
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Task List -->
    <div class="col-md-7 mt-4 mt-md-0">
      <div class="card shadow-sm">
        <div class="card-header bg-dark text-white">
          <h5 class="mb-0">Your Tasks</h5>
        </div>
        <div class="card-body">
          <table class="table table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>Title</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Due Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Example static list, replace with *ngFor once you fetch tasks -->
              <tr *ngFor="let task of taskList">
                <td>{{ task.title }}</td>
                <td>
                  <span class="badge bg-info">{{ task.priority }}</span>
                </td>
                <td>
                  <span
                    class="badge"
                    [ngClass]="{
                      'bg-warning text-dark': task.status === 'NOT_STARTED',
                      'bg-primary': task.status === 'IN_PROGRESS',
                      'bg-success': task.status === 'DONE'
                    }"
                  >
                    {{ task.status }}
                  </span>
                </td>
                <td>{{ task.dueDate | date }}</td>
                <td>
                  <button
                    class="btn btn-sm btn-danger"
                    (click)="onDeleteTask(task.id)"
                  >
                    <i class="bi bi-trash"></i> Delete
                  </button>
                </td>
              </tr>
              <tr *ngIf="!taskList || taskList.length === 0">
                <td colspan="5" class="text-center text-muted">
                  No tasks available.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
